{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/ng-on-http-stable-config.js","src/ng-on-http-stable-directive.js","src/ng-on-http-stable-interceptor.js","src/ng-on-http-stable-service.js","src/ng-on-http-stable.js","src/templates.js"],"names":[],"mappings":"AAAA;;;;;;ACAA,SAAS,kBAAT,CAA4B,aAA5B,EAA2C;AACvC,kBAAc,YAAd,CAA2B,IAA3B,CAAgC,yBAAhC;AACH;;AAED,mBAAmB,OAAnB,GAA6B,CACzB,eADyB,CAA7B;;kBAIe,kB;;;;;;;;ACRf,SAAS,uBAAT,CACI,mBADJ,EAEE;;AAEE,aAAS,IAAT,CAAc,MAAd,EAAsB;AAClB,4BAAoB,gBAApB,CAAqC,YAAY;AAC7C,mBAAO,KAAP,GAAe,IAAf;AACH,SAFD;AAGH;;AAED,WAAO;AACH,kBAAU,GADP;AAEH,oBAAY,IAFT;AAGH,cAAM,IAHH;AAIH,qBAAa,wBAJV;AAKH,eAAO;AALJ,KAAP;AAOH;;AAED,wBAAwB,OAAxB,GAAkC,CAC9B,qBAD8B,CAAlC;;kBAIe,uB;;;;;;;;ACvBf,SAAS,uBAAT,CAAiC,EAAjC,EAAqC,mBAArC,EAA0D;;AAEtD,WAAO;AACH,iBAAS,iBAAU,MAAV,EAAkB;AACvB,gCAAoB,0BAApB;AACA,mBAAO,MAAP;AACH,SAJE;AAKH,sBAAc,sBAAU,SAAV,EAAqB;AAC/B,gCAAoB,0BAApB;AACA,mBAAO,GAAG,MAAH,CAAU,SAAV,CAAP;AACH,SARE;AASH,kBAAU,kBAAU,SAAV,EAAoB;AAC1B,gCAAoB,0BAApB;AACA,mBAAO,SAAP;AACH,SAZE;AAaH,uBAAe,uBAAU,SAAV,EAAqB;AAChC,gCAAoB,0BAApB;AACA,mBAAO,GAAG,MAAH,CAAU,SAAV,CAAP;AACH;AAhBE,KAAP;AAkBH;;AAED,wBAAwB,OAAxB,GAAkC,CAC9B,IAD8B,EAE9B,qBAF8B,CAAlC;;kBAKe,uB;;;;;;;;;;;;;IC3BT,mB;AAEF,mCAAc;AAAA;;AACV,aAAK,uBAAL,GAAmC,CAAnC;AACA,aAAK,2BAAL,GAAmC,EAAnC;AACH;;;;;;;;;qDAK4B;AACzB,mBAAO,EAAE,KAAK,uBAAd;AACH;;;;;;;;qDAK4B;AACzB,cAAE,KAAK,uBAAP;AACA,gBAAI,KAAK,uBAAL,KAAiC,CAArC,EAAwC;AACpC,uBAAO,KAAK,2BAAL,CAAiC,MAAxC,EAAgD;AAC5C,yBAAK,2BAAL,CAAiC,GAAjC;AACH;AACJ;AACD,mBAAO,KAAK,uBAAZ;AACH;;;;;;;;yCAKgB,Q,EAAU;AACvB,gBAAI,KAAK,uBAAL,KAAiC,CAArC,EAAwC;AACpC;AACH,aAFD,MAEO;AACH,qBAAK,2BAAL,CAAiC,IAAjC,CAAsC,QAAtC;AACH;AACJ;;;;;;kBAGU,mB;;;;;ACvCf;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAM,MAAM,QAAQ,MAAR,CAAe,gBAAf,EAAiC,CAAC,yBAAD,CAAjC,CAAZ;;AAEA,IAAI,SAAJ,CAAe,gBAAf;AACA,IAAI,OAAJ,CAAe,qBAAf;AACA,IAAI,OAAJ,CAAe,yBAAf;;AAEA,IAAI,MAAJ;;;;;ACbA,QAAQ,MAAR,CAAe,yBAAf,EAA0C,EAA1C,EAA8C,GAA9C,CAAkD,CAAC,gBAAD,EAAmB,UAAS,cAAT,EAAyB;AAAC,iBAAe,GAAf,CAAmB,wBAAnB,EAA4C,mDAA5C;AAAkG,CAA/I,CAAlD","file":"build.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","function OnHttpStableConfig($httpProvider) {\n    $httpProvider.interceptors.push('OnHttpStableInterceptor');\n}\n\nOnHttpStableConfig.$inject = [\n    '$httpProvider'\n];\n\nexport default OnHttpStableConfig;","function ngOnHttpStableDirective(\n    onHttpStableService\n) {\n\n    function link($scope) {\n        onHttpStableService.notifyWhenStable(function () {\n            $scope.ready = true;\n        });\n    }\n\n    return {\n        restrict: 'E',\n        transclude: true,\n        link: link,\n        templateUrl: 'ng-on-http-stable.html',\n        scope: {}\n    };\n}\n\nngOnHttpStableDirective.$inject = [\n    'OnHttpStableService'\n];\n\nexport default ngOnHttpStableDirective;","function OnHttpStableInterceptor($q, onHttpStableService) {\n\n    return {\n        request: function (config) {\n            onHttpStableService.increaseOutsandingRequests();\n            return config;\n        },\n        requestError: function (rejection) {\n            onHttpStableService.completeOutstandingRequest();\n            return $q.reject(rejection);\n        },\n        response: function (response) {\n            onHttpStableService.completeOutstandingRequest();\n            return response;\n        },\n        responseError: function (rejection) {\n            onHttpStableService.completeOutstandingRequest();\n            return $q.reject(rejection);\n        }\n    };\n}\n\nOnHttpStableInterceptor.$inject = [\n    '$q',\n    'OnHttpStableService'\n];\n\nexport default OnHttpStableInterceptor;","class OnHttpStableService {\n\n    constructor() {\n        this.outstandingRequestCount     = 0;\n        this.outstandingRequestCallbacks = [];\n    }\n\n    /**\n     * @description increase the number of current requests\n     */\n    increaseOutsandingRequests() {\n        return ++this.outstandingRequestCount;\n    }\n    /**\n     * @description marks one request as completed\n     * if all pending requests are completed, all callbacks are called \n     */\n    completeOutstandingRequest() {\n        --this.outstandingRequestCount;\n        if (this.outstandingRequestCount === 0) {\n            while (this.outstandingRequestCallbacks.length) {\n                this.outstandingRequestCallbacks.pop()();\n            }\n        }\n        return this.outstandingRequestCount;\n    }\n    /**\n     * @description adds a function as callback\n     * to be called when all pending requests are finished\n     */\n    notifyWhenStable(callback) {\n        if (this.outstandingRequestCount === 0) {\n            callback();\n        } else {\n            this.outstandingRequestCallbacks.push(callback);\n        }\n    }\n}\n\nexport default OnHttpStableService;","import './templates.js';\n\nimport OnHttpStableDirective   from './ng-on-http-stable-directive';\nimport OnHttpStableService     from './ng-on-http-stable-service';\nimport OnHttpStableConfig      from './ng-on-http-stable-config';\nimport OnHttpStableInterceptor from './ng-on-http-stable-interceptor';\n\nconst app = angular.module('ngOnHttpStable', ['ngOnHttpStableTemplates']);\n\napp.directive ('ngOnHttpStable',          OnHttpStableDirective);\napp.service   ('OnHttpStableService',     OnHttpStableService);\napp.factory   ('OnHttpStableInterceptor', OnHttpStableInterceptor);\n\napp.config(OnHttpStableConfig);","angular.module(\"ngOnHttpStableTemplates\", []).run([\"$templateCache\", function($templateCache) {$templateCache.put(\"ng-on-http-stable.html\",\"<ng-transclude ng-if=\\\"::ready\\\"></ng-transclude>\");}]);"]}